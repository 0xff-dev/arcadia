# list
query listKnowledgeBases($input: ListKnowledgeBaseInput!){
  KnowledgeBase {
    listKnowledgeBases(input: $input) {
      totalCount
      hasNextPage
      nodes {
        ... on KnowledgeBase {
          name
          namespace
          labels
          annotations
          creator
          displayName
          description
          embedder {
            kind
            Name
          }
          vectorStore{
            kind
            Name
          }
          fileGroupDetails {
            ...on filegroupdetail{
              source{
                kind
                Name
              }
              filedetails{
                ...on filedetail{
                  path
                  phase
                }
              }
            }
          }
        }
      }
    }
  }
}

# get
query getKnowledgeBase($name: String!, $namespace: String!) {
  KnowledgeBase {
    getKnowledgeBase(name: $name, namespace: $namespace){
          name
          namespace
          labels
          annotations
          creator
          displayName
          description
          embedder {
            kind
            Name
          }
          vectorStore{
            kind
            Name
          }
          fileGroupDetails {
            ...on filegroupdetail{
              source{
                kind
                Name
              }
              filedetails{
                ...on filedetail{
                  path
                  phase
                }
              }
            }
          }
    }
  }
}

# create
mutation createKnowledgeBase($input: CreateKnowledgeBaseInput!) {
  KnowledgeBase {
    createKnowledgeBase(input: $input) {
          name
          namespace
          labels
          annotations
          creator
          displayName
          description
          embedder {
            kind
            Name
          }
          vectorStore{
            kind
            Name
          }
          fileGroupDetails {
            ...on filegroupdetail{
              source{
                kind
                Name
              }
              filedetails{
                ...on filedetail{
                  path
                  phase
                }
              }
            }
          }
    }
  }
}

# update
mutation updateKnowledgeBase($input: UpdateKnowledgeBaseInput) {
  KnowledgeBase {
    updateKnowledgeBase(input: $input){
          name
          namespace
          labels
          annotations
          creator
          displayName
          description
          embedder {
            kind
            Name
          }
          vectorStore{
            kind
            Name
          }
          fileGroupDetails {
            ...on filegroupdetail{
              source{
                kind
                Name
              }
              filedetails{
                ...on filedetail{
                  path
                  phase
                }
              }
            }
          }
    }
  }
}

# delete
mutation deleteKnowledgeBase($input: DeleteKnowledgeBaseInput) {
  KnowledgeBase {
    deleteKnowledgeBase(input: $input)
  }
}
